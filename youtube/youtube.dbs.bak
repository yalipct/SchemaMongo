<?xml version="1.0" encoding="UTF-8" ?>
<project name="MongoDb" id="Project-1" database="MongoDb" >
	<schema name="youtube" >
		<table name="canal" >
			<column name="_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="nombre" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="descripcion" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="fecha_creacion" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<index name="_id_" unique="PRIMARY_KEY" >
				<column name="_id" />
			</index>
			<fk name="fk_canal_usuari" virtual="y" to_schema="youtube" to_table="usuari" >
				<fk_column name="_id" pk="crea_canal" />
			</fk>
		</table>
		<table name="comentarios" >
			<column name="_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="comentario" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="fecha_hora" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="likes" type="array" length="800" decimal="0" jt="4999545" mandatory="y" />
			<column name="dislikes" type="array" length="800" decimal="0" jt="4999545" mandatory="y" />
			<index name="_id_" unique="PRIMARY_KEY" >
				<column name="_id" />
			</index>
			<fk name="fk_comentarios_videos" virtual="y" to_schema="youtube" to_table="videos" >
				<fk_column name="_id" pk="comentarios" />
			</fk>
		</table>
		<table name="dislikes" >
			<column name="_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="usuari_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="video_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="fecha_dislike" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<index name="_id_" unique="PRIMARY_KEY" >
				<column name="_id" />
			</index>
			<fk name="fk_dislikes_videos" virtual="y" to_schema="youtube" to_table="videos" >
				<fk_column name="_id" pk="dislikes" />
			</fk>
		</table>
		<table name="etiquetas" >
			<column name="_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="nombre" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="etiquetas" type="object" length="800" decimal="0" jt="4999544" mandatory="y" />
			<index name="_id_" unique="PRIMARY_KEY" >
				<column name="_id" />
			</index>
		</table>
		<table name="likes" >
			<column name="_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="usuari_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="video_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="fecha_like" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<index name="_id_" unique="PRIMARY_KEY" >
				<column name="_id" />
			</index>
			<fk name="fk_likes_videos" virtual="y" to_schema="youtube" to_table="videos" >
				<fk_column name="_id" pk="likes" />
			</fk>
		</table>
		<table name="playlist" >
			<column name="_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="nombre" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="fecha_creacion" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="estado" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="videos" type="array" length="800" decimal="0" jt="4999545" mandatory="y" />
			<index name="_id_" unique="PRIMARY_KEY" >
				<column name="_id" />
			</index>
		</table>
		<table name="usuari" >
			<column name="_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="email" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="password" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="nombre" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="fecha_nac" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="sexo" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="pais" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="cp" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="crea_canal" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="canal_suscrito" type="array" length="800" decimal="0" jt="4999545" mandatory="y" />
			<column name="playlist" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="usuario" type="int" jt="4" />
			<index name="_id_" unique="PRIMARY_KEY" >
				<column name="_id" />
			</index>
		</table>
		<table name="videos" >
			<column name="_id" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="titulo" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="descripcion" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="tamaño" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="nombre_archivo" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="duracion" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="thumbnail" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="reproducciones" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="likes" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="dislikes" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="estado" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="etiquetas" type="array" length="800" decimal="0" jt="4999545" mandatory="y" />
			<column name="usuario" prior="usuario_publica" type="int" length="800" decimal="0" jt="4" mandatory="y" />
			<column name="fecha_hora_publicacion" type="string" length="800" decimal="0" jt="12" mandatory="y" />
			<column name="comentarios" type="array" length="800" decimal="0" jt="4999545" mandatory="y" />
			<index name="_id_" unique="PRIMARY_KEY" >
				<column name="_id" />
			</index>
			<fk name="fk_videos_etiquetas" virtual="y" to_schema="youtube" to_table="etiquetas" >
				<fk_column name="etiquetas" pk="etiquetas" />
			</fk>
			<fk name="fk_videos_usuari" virtual="y" to_schema="youtube" to_table="usuari" >
				<fk_column name="usuario" pk="usuario" />
			</fk>
			<fk name="fk_videos_playlist" virtual="y" to_schema="youtube" to_table="playlist" >
				<fk_column name="_id" pk="videos" />
			</fk>
		</table>
	</schema>
	<connector name="MongoDb" database="MongoDb" driver_class="com.dbschema.MongoJdbcDriver" driver_jar="mongojdbc3.1.jar" driver_desc="No Authentication" host="localhost" port="27017" instance="youtube" user="admin" />
	<layout name="Main Layout" id="Layout-1b6" show_relation="name" >
		<entity schema="youtube" name="canal" color="3986C1" x="48" y="416" />
		<entity schema="youtube" name="comentarios" color="3986C1" x="256" y="448" />
		<entity schema="youtube" name="dislikes" color="3986C1" x="480" y="368" />
		<entity schema="youtube" name="etiquetas" color="3986C1" x="512" y="48" />
		<entity schema="youtube" name="likes" color="3986C1" x="480" y="176" />
		<entity schema="youtube" name="playlist" color="3986C1" x="656" y="256" />
		<entity schema="youtube" name="usuari" color="3986C1" x="48" y="112" />
		<entity schema="youtube" name="videos" color="3986C1" x="224" y="96" />
		<script name="Sample" id="Editor-1aca" language="SQL" >
			<string><![CDATA[db.sampleCollection.insert({"SampleKey":"SampleValue"});
db.usuari.insert({"_id" : 1, "email" : "demo@gmail.com", "password" : "1245",
 "nombre" : "Ariel", "fecha_nac" : "2020-05-03 15:25", "sexo" : "M", "pais" : "uruguay",
"cp" : "08003", "crea_canal" : 1, "canal_suscrito":[1], "playlist":1}) 

db.videos.insert({
"_id" : 1, "titulo" : "fresa y chocolate", "descripcion": "nose", "tamaño" : 2,
"nombre_archivo":"critica pelicula", "duracion": 40, "thumbnail":"foto.jpg",
"reproducciones": 3, "likes":5, "dislikes" : 3, "estado":"public", 
"etiquetas":[1], "usuario" : 1, "fecha_hora_publicacion" : "2021-05-03 15:25",
"comentarios":[1]})

db.canal.insert({"_id": 1, "nombre" : "mito", "descripcion" : "canal de tecnología", "fecha_creacion" :  "2018-02-05 15:25"})

db.likes.insert({"_id" : 1, "usuari_id" : 1, "video_id" : 1, "fecha_like": "2019-04-30 15:25"})

db.dislikes.insert({"_id" : 1, "usuari_id" : 1, "video_id" : 1, "fecha_dislike": "2019-04-30 15:25"})

db.etiquetas.insert({"_id" : 1, "nombre": "aprende java", "etiquetas":[]})

db.comentarios.insert(
{"_id" : 1, "comentario":"Muy buen curso", "fecha_hora": "2020-01-03 10:25", "likes" : [1], "dislikes" : [1,2]
})

db.playlist.insert({"_id" : 1, "nombre" : "cursos", "fecha_creacion" : "2019-05-03 13:25", "estado" : "private", "videos" : [1,3]})
]]></string>
		</script>
	</layout>
</project>